<%- partial('_partial/bg-cover') %>
<style>
    .bg-cover {
        background-image: url("/medias/banner/time.jpg") !important;
    }

    .bg-cover::before {
        background-image: url(/medias/banner/grid.png);
    }

    .card-content {
        padding: 12px !important;
    }

    hr {
        margin: 8px auto 12px;
    }

    .miaoshus {
        padding: 12px;
        border: 1px dashed #e6e6e6;
        color: #969696;
        position: relative;
        display: inline-block;
        width: 95%;
        background: #fbfbfb50;
        border-radius: 10px;
        font-size: 16px;
        margin: 12px auto;
    }

    body.dark .miaoshus {
        background: 0 0;
        border: 1px dashed #888;
    }

    .wrap p {
        font-family: 'Architects Daughter', cursive !important;
        font-size: 18px !important;
        margin: 15px auto !important;
    }

    .im0now {
        color: #e96900;
        font-size: 20px !important;
    }

    .HotDate {
        color: #e96900;
        font-size: 26px;
        font-weight: 400;
        text-align: center;
        padding-bottom: 20px;
    }

    .biaotis {
        margin: 10px auto;
        text-align: center;
    }

    .biaotis span {
        font-family: 'Architects Daughter', cursive;
        font-size: 19px;
        margin: 15px auto;
        padding-bottom: 6px;
    }

    body.dark .biaotis span {
        color: rgba(255, 255, 255, 0.6);
    }

    .biaotis .zhuti {

        border-bottom: 2px solid #e96900;
    }

    .dy {
        text-align: center;
        margin: 50px 0 20px 0;
        font-size: 20px;
        font-weight: 200;
    }

    .de {
        width: 100%;

    }

    .de > div {
        width: 90%;
        margin: 0 auto;

    }

    .dyy,
    .dss {
        width: 15%;
        height: 20px;
        float: left;
        text-align: center;
        padding: 5px 0;
        margin: 10px 0;

    }

    .dee {
        width: 70%;
        height: 20px;
        float: left;
        text-align: center;
        padding: 5px 0px;
        margin: 10px 0;

    }

    .dee .jdt {
        text-align: left;
        background: RGB(244, 245, 249);
        border-radius: 15px;
        position: relative;
        top: 2px;

    }

    .dee .jdt .jdt_son {
        height: 100%;
        width: 0%;
        border-radius: 15px;

    }

    .jt .dee .jdt .jdt_son {
        background: #32B4FF;
    }

    .bz .dee .jdt .jdt_son {
        background: #F54170;
    }

    .by .dee .jdt .jdt_son {
        background: #FECE14;
    }

    .jn .dee .jdt .jdt_son {
        background: #31DB83;
    }

    .cs .dee .jdt .jdt_son {
        background: #9749DD;
    }

    .jzb {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        width: 100%;
        padding: 35px 0 10px 0;
    }

    .clock {
        min-width: 250px;
        width: 250px;
        height: 250px;
        background-color: white;
        border: 15px solid white;
        border-radius: 50%;
        box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.1),
        0 10px 10px rgba(0, 0, 0, 0.3), 0 0 0 4px white;
        background-image: url("/medias/clock.png");
        background-size: cover;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .clock::before {
        content: "";
        width: 8px;
        height: 8px;
        position: absolute;
        z-index: 999;
        background-color: rgb(58, 58, 58);
        border-radius: 50%;
    }

    .hour,
    .min,
    .sec {
        position: absolute;
    }

    .hour,
    .hr {
        width: 130px;
        height: 130px;
    }

    .min,
    .mn {
        width: 160px;
        height: 160px;
    }

    .sec,
    .sc {
        width: 200px;
        height: 200px;
    }

    .hr,
    .mn,
    .sc {
        display: flex;
        justify-content: center;
        position: absolute;
    }

    .hr::before {
        width: 5px;
        height: 60px;
        background-color: rgba(219, 0, 0, 0.808);
        content: "";
        border-radius: 6px 6px 0 0;
    }

    .mn::before {
        width: 3px;
        height: 80px;
        background-color: rgb(0, 235, 125);
        content: "";
        border-radius: 6px 6px 0 0;
    }

    .sc::before {
        width: 3px;
        height: 120px;
        background-color: rgb(0, 170, 248);
        content: "";
        border-radius: 6px;
    }

    .sc {
        transition: linear 1s;
    }

    .mn {
        transition: linear 0.1s;
    }

    .hr {
        transition: linear 0.1s;
    }
</style>
<main class="content">
    <div class="container">
        <div class="card">
            <div class="card-content">
                <div class="tag-title center-align">
                    <div class="miaoshus">
                        <div class="title center-align">“ Ticktack 滴滴答答~ ”</div>
                        “ 人生几何，九百月矣，深深的话，浅浅的说 ”
                    </div>
                    <hr>

                    <!-- 计算时间模块 -->
                    <div class="wrap">
                        <p>“ 人生只有 900 余月</p>
                        <p>过去的，是回忆</p>
                        <p>淡淡的约定，浅浅的留影 ”</p>
                        <div>
                            <canvas class="myLife" width="300px" height="300px"></canvas>
                        </div>
                        <p>“ 截至此刻，仅剩 '<span class="im0now"></span><span style="color: #e96900;font-size: 20px;">%</span>'
                            掌握在自己的手中</p>
                        <p>幸运和安逸还是留给后面的人生吧，我想趁着有梦，豁出一切。 ”</p>
                        <script>
                            loadTime()

                            function loadTime() {
                                var birthday = new Date(2002, 5, 30);
                                var live = (new Date - birthday) / 2592000000;
                                var range = [0, live - 1];
                                for (var i = 0; 30 > i; i++) {
                                    for (var j = 0; 30 > j; j++) {
                                        var current = 30 * i + j,
                                            canvas = document.getElementsByClassName("myLife")[0],
                                            ctx = canvas.getContext("2d");
                                        current >= range[0] && current <= range[1] ? ctx.fillStyle = "#ccc" : ctx.fillStyle = "#e96900",
                                            ctx.fillRect(10 * j + 1, 10 * i + 1, 8, 8), ctx.strokeStyle = "#000",
                                            ctx.lineWidth = 1,
                                            ctx.strokeRect(10 * j, 10 * i, 10, 10)
                                    }
                                }
                                setInterval(function () {
                                    if ($("span").hasClass("im0now")) {
                                        document.getElementsByClassName("im0now")[0].innerHTML = (100 - (new Date - birthday) / 2592000000 / 9).toFixed(9)
                                    }
                                }, 300);
                            }
                        </script>
                    </div>

                </div>


            </div>
        </div>

        <div class="card">
            <div class="card-content">

                <div class="biaotis">
                    <span>时间从来不语，只在悄然间流逝。</span>

                </div>

                <div class="de">

                    <div class="jt">
                        <div class="dyy">
                            今天
                        </div>
                        <div class="dee">
                            <div class="jdt">
                                <div class="jdt_son" style="width: 52.3414%;">&nbsp;</div>
                            </div>
                        </div>
                        <div class="dss">512%</div>
                    </div>

                    <div class="bz">
                        <div class="dyy">
                            本周
                        </div>
                        <div class="dee">
                            <div class="jdt">
                                <div class="jdt_son" style="width: 78.9059%;">&nbsp;</div>
                            </div>
                        </div>
                        <div class="dss">79%</div>
                    </div>

                    <div class="by">
                        <div class="dyy">
                            本月
                        </div>
                        <div class="dee">
                            <div class="jdt">
                                <div class="jdt_son" style="width: 58.5879%;">&nbsp;</div>
                            </div>
                        </div>
                        <div class="dss">59%</div>
                    </div>

                    <div class="jn">
                        <div class="dyy">
                            今年
                        </div>
                        <div class="dee">
                            <div class="jdt">
                                <div class="jdt_son" style="width: 97.2357%;">&nbsp;</div>
                            </div>
                        </div>
                        <div class="dss">97%</div>
                    </div>


                </div>
            </div>


            <script>

                // 人生进度条
                function Progress_time() {
                    var mydate = new Date();
                    var nian = mydate.getFullYear();
                    var yue = mydate.getMonth() + 1;
                    var ri = mydate.getDate();

                    // 计算出今天的百分比
                    var jt_a = ((mydate.getHours() * 3600) + (mydate.getMinutes() * 60) + mydate.getSeconds()) / 864;
                    var jt = jt_a + '%';
                    $(".jt .dss").text(parseFloat(jt.replace("%", "")).toFixed(0) + '%');

                    // 计算出本周的百分比
                    var bz = null;
                    if (mydate.getDay() == 0) {
                        bz = (6 + jt_a / 100) / 0.07 + '%';
                    } else {
                        bz = ((mydate.getDay() - 1) + jt_a / 100) / 0.07 + '%'
                    }
                    $(".bz .dss").text(parseFloat(bz.replace("%", "")).toFixed(0) + '%');

                    // 计算出当月共有多少天（方便下面调用）
                    function yue_s(z) {
                        if (z == 1 || z == 3 || z == 5 || z == 7 || z == 8 || z == 10 || z == 12) {
                            return 31;
                        } else if (z != 2) {
                            return 30;
                        } else {
                            if (nian / 4 == 0) {
                                return 29;
                            } else {
                                return 28;
                            }
                        }
                    }

                    // 计算出本月的百分比
                    by = ((ri - 1) / yue_s(yue)) * 100 + jt_a / 100;
                    by_viw = by + '%';
                    $(".by .dss").text(parseFloat(by_viw.replace("%", "")).toFixed(0) + '%');

                    // 计算出：从今年1月1号，直到现在共有多少天
                    var jn = 0;
                    var dayue = yue;
                    for (i = 1; i < dayue + 1; ++i) {
                        if (i >= 3) {
                            if (i != dayue) {
                                jn = jn + yue_s(i);
                            } else {
                                jn = jn + ri;
                            }
                        } else if (i == 2) {
                            if (i != dayue) {
                                jn = jn + yue_s(2);
                            } else {
                                jn = jn + ri;
                            }
                        } else if (i == 1) {
                            if (i != dayue) {
                                jn = 31;
                            } else {
                                jn = ri;
                            }
                        }
                    }

                    // 计算出今年的百分比
                    var runi = 3.65;
                    if (yue_s(2) == 29) {
                        runi = 3.66
                    }
                    jn = (jn / runi + jt_a / 100) + '%';
                    $(".jn .dss").text(parseFloat(jn.replace("%", "")).toFixed(0) + '%');


                    // 把上面计算出的数据，展示在页面上
                    $(".jt .dee .jdt .jdt_son").animate({
                        width: jt
                    }, 2000);

                    $(".bz .dee .jdt .jdt_son").animate({
                        width: bz
                    }, 2000);

                    $(".by .dee .jdt .jdt_son").animate({
                        width: by_viw
                    }, 2000);

                    $(".jn .dee .jdt .jdt_son").animate({
                        width: jn
                    }, 2000);


                }

                Progress_time();
            </script>
            <div class="jzb">
                <div class="clock">
                    <div class="hour">
                        <div class="hr"></div>
                    </div>

                    <div class="min">
                        <div class="mn"></div>
                    </div>

                    <div class="sec">
                        <div class="sc"></div>
                    </div>
                </div>
            </div>

            <script>
                function loadClock() {
                    // 获取几个时钟的dom
                    let hr = document.querySelector(".hr");
                    let mn = document.querySelector(".mn");
                    let sc = document.querySelector(".sc");
                    let time = document.querySelector(".time_wrap1");
                    //根据当前时间初始化表盘时钟
                    let date = new Date();
                    let hour = date.getHours();
                    let min = date.getMinutes();
                    let sec = date.getSeconds();
                    let n = sec;
                    setInterval(() => {
                        hour = date.getHours();
                        hr.style.transform = `rotateZ(${hour * 30 + min / 2}deg)`;
                        mn.style.transform = `rotateZ(${min * 6}deg)`;
                        sc.style.transform = `rotateZ(${sec * 6}deg)`;

                        n++;
                        min = min + parseInt(i / 60);
                        sec++;
                        if (n === 60) i = 0;

                        let startTime = new Date("2019-9-1"); // 开始时间
                        let endTime = new Date(); // 结束时间
                        let usedTime = endTime - startTime; // 相差的毫秒数
                        let days = Math.floor(usedTime / (24 * 3600 * 1000)); // 计算出天数
                        let leavel = usedTime % (24 * 3600 * 1000); // 计算天数后剩余的时间
                        let hours = Math.floor(leavel / (3600 * 1000)); // 计算剩余的小时数
                        let leavel2 = leavel % (3600 * 1000); // 计算剩余小时后剩余的毫秒数
                        let minutes = Math.floor(leavel2 / (60 * 1000)); // 计算剩余的分钟数
                        let level3 = leavel2 - minutes * 60 * 1000;
                        let seconds = Math.floor(level3 / 1000);
                    }, 1000);
                }
                loadClock()
            </script>

            <br>

            <div class="biaotis">
                <span>距离</span>
                <span class="zhuti">2022</span>
                <span>仅有</span>
            </div>
            <div id="CountMsg" class="HotDate">
                <span id="t_ds">00天</span>
                <span id="t_hs">00时</span>
                <span id="t_ms">00分</span>
                <span id="t_ss">00秒</span>
            </div>
        </div>
    </div>
</main>
<script type="text/javascript">
    setInterval(getRTime, 1000);

    function getRTime() {
        let EndTime = new Date('2022/01/01 00:00:00'); //截止时间
        let NowTime = new Date();
        let t = EndTime.getTime() - NowTime.getTime();

        //累加
        let ds = Math.floor(t / 1000 / 60 / 60 / 24);
        let hs = Math.floor(t / 1000 / 60 / 60 % 24);
        let ms = Math.floor(t / 1000 / 60 % 60);
        let ss = Math.floor(t / 1000 % 60);

        document.getElementById("t_ds").innerHTML = ds + "天";
        document.getElementById("t_hs").innerHTML = hs + "时";
        document.getElementById("t_ms").innerHTML = ms + "分";
        document.getElementById("t_ss").innerHTML = ss + "秒";
    }
</script>
<script type="text/javascript">

    //只在桌面版网页启用特效
    var windowWidth = $(window).width();
    if (windowWidth > 768) {
        document.write('<scripts type="text/javascript" src="/js/sakura.js"><\/scripts>');
    }
</script>
